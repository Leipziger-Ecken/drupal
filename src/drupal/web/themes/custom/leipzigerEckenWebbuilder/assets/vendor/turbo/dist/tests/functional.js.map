{"version":3,"file":"functional.js","sources":["../../src/tests/helpers/intern_test_case.ts","../../src/tests/helpers/functional_test_case.ts","../../src/tests/helpers/remote_channel.ts","../../src/tests/helpers/turbo_drive_test_case.ts","../../src/tests/functional/async_script_tests.ts","../../src/tests/functional/form_submission_tests.ts","../../src/tests/functional/frame_tests.ts","../../src/tests/functional/loading_tests.ts","../../src/tests/functional/navigation_tests.ts","../../src/tests/functional/rendering_tests.ts","../../src/tests/functional/scroll_restoration_tests.ts","../../src/tests/functional/stream_tests.ts","../../src/tests/functional/visit_tests.ts"],"sourcesContent":["import intern from \"intern\"\nimport Test from \"intern/lib/Test\"\nimport { Tests } from \"intern/lib/interfaces/object\"\n\nexport class InternTestCase {\n  readonly internTest: Test\n\n  static registerSuite() {\n    return intern.getInterface(\"object\").registerSuite(this.name, { tests: this.tests })\n  }\n\n  static get tests(): Tests {\n    return this.testNames.reduce((tests, testName): Tests => {\n      return { ...tests, [testName]: internTest => this.runTest(internTest) }\n    }, {} as Tests)\n  }\n\n  static get testNames(): string[] {\n    return this.testKeys.map(key => key.slice(5))\n  }\n\n  static get testKeys(): string[] {\n    return Object.getOwnPropertyNames(this.prototype).filter(key => key.match(/^test /))\n  }\n\n  static runTest(internTest: Test): Promise<void> {\n    const testCase = new this(internTest)\n    return testCase.runTest()\n  }\n\n  constructor(internTest: Test) {\n    this.internTest = internTest\n  }\n\n  get testName() {\n    return this.internTest.name\n  }\n\n  async runTest() {\n    try {\n      await this.setup()\n      await this.beforeTest()\n      await this.test()\n      await this.afterTest()\n    } finally {\n      await this.teardown()\n    }\n  }\n\n  get assert() {\n    return intern.getPlugin(\"chai\").assert\n  }\n\n  async setup() {\n\n  }\n\n  async beforeTest() {\n\n  }\n\n  get test(): () => Promise<void> {\n    const method = (this as any)[`test ${this.testName}`]\n    if (method != null && typeof method == \"function\") {\n      return method\n    } else {\n      throw new Error(`No such test \"${this.testName}\"`)\n    }\n  }\n\n  async afterTest() {\n\n  }\n\n  async teardown() {\n\n  }\n}\n","import { InternTestCase } from \"./intern_test_case\"\nimport { Element } from \"@theintern/leadfoot\"\n\nexport class FunctionalTestCase extends InternTestCase {\n  get remote() {\n    return this.internTest.remote\n  }\n\n  async goToLocation(location: string): Promise<void> {\n    const processedLocation = location.match(/^\\//) ? location.slice(1) : location\n    return this.remote.get(processedLocation)\n  }\n\n  async goBack(): Promise<void> {\n    return this.remote.goBack()\n  }\n\n  async goForward(): Promise<void> {\n    return this.remote.goForward()\n  }\n\n  async reload(): Promise<void> {\n    await this.evaluate(() => location.reload())\n    return this.nextBeat\n  }\n\n  async hasSelector(selector: string) {\n    return (await this.remote.findAllByCssSelector(selector)).length > 0\n  }\n\n  async querySelector(selector: string) {\n    return this.remote.findByCssSelector(selector)\n  }\n\n  async clickSelector(selector: string): Promise<void> {\n    return this.remote.findByCssSelector(selector).click()\n  }\n\n  async scrollToSelector(selector: string): Promise<void> {\n    const element = await this.remote.findByCssSelector(selector)\n    return this.evaluate(element => element.scrollIntoView(), element)\n  }\n\n  async outerHTMLForSelector(selector: string): Promise<string> {\n    const element = await this.remote.findByCssSelector(selector)\n    return this.evaluate(element => element.outerHTML, element)\n  }\n\n  async innerHTMLForSelector(selector: string): Promise<string> {\n    const element = await this.remote.findAllByCssSelector(selector)\n    return this.evaluate(element => element.innerHTML, element)\n  }\n\n  get scrollPosition(): Promise<{ x: number, y: number }> {\n    return this.evaluate(() => ({ x: window.scrollX, y: window.scrollY }))\n  }\n\n  async isScrolledToSelector(selector: string): Promise<boolean> {\n    const { y: pageY } = await this.scrollPosition\n    const { y: elementY } = await this.remote.findByCssSelector(selector).getPosition()\n    const offset = pageY - elementY\n    return offset > -1 && offset < 1\n  }\n\n  get nextBeat(): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, 100))\n  }\n\n  async evaluate<T>(callback: (...args: any[]) => T, ...args: any[]): Promise<T> {\n    return await this.remote.execute(callback, args)\n  }\n\n  get head(): Promise<Element> {\n    return this.evaluate(() => document.head as any)\n  }\n\n  get body(): Promise<Element> {\n    return this.evaluate(() => document.body as any)\n  }\n\n  get location(): Promise<string> {\n    return this.evaluate(() => location.toString())\n  }\n\n  get origin(): Promise<string> {\n    return this.evaluate(() => location.origin.toString())\n  }\n\n  get pathname(): Promise<string> {\n    return this.evaluate(() => location.pathname)\n  }\n\n  get hash(): Promise<string> {\n    return this.evaluate(() => location.hash)\n  }\n}\n","import { Remote } from \"intern/lib/executors/Node\"\n\nexport class RemoteChannel<T> {\n  readonly remote: Remote\n  readonly identifier: string\n  private index: number = 0\n\n  constructor(remote: Remote, identifier: string) {\n    this.remote = remote\n    this.identifier = identifier\n  }\n\n  async read(length?: number): Promise<T[]> {\n    const records = (await this.newRecords).slice(0, length)\n    this.index += records.length\n    return records\n  }\n\n  async drain(): Promise<void> {\n    await this.read()\n  }\n\n  private get newRecords() {\n    return this.remote.execute((identifier: string, index: number) => {\n      const records = (window as any)[identifier]\n      if (records != null && typeof records.slice == \"function\") {\n        return records.slice(index)\n      } else {\n        return []\n      }\n    }, [this.identifier, this.index])\n  }\n}\n","import { FunctionalTestCase } from \"./functional_test_case\"\nimport { RemoteChannel } from \"./remote_channel\"\nimport { Element } from \"@theintern/leadfoot\"\n\ntype EventLog = [string, any]\n\nexport class TurboDriveTestCase extends FunctionalTestCase {\n  eventLogChannel: RemoteChannel<EventLog> = new RemoteChannel(this.remote, \"eventLogs\")\n  lastBody?: Element\n\n  async beforeTest() {\n    await this.drainEventLog()\n    this.lastBody = await this.body\n  }\n\n  get nextWindowHandle(): Promise<string> {\n    return (async (nextHandle?: string) => {\n      do {\n        const handle = await this.remote.getCurrentWindowHandle()\n        const handles = await this.remote.getAllWindowHandles()\n        nextHandle = handles[handles.indexOf(handle) + 1]\n      } while (!nextHandle)\n      return nextHandle\n    })()\n  }\n\n  async nextEventNamed(eventName: string): Promise<any> {\n    let record: EventLog | undefined\n    while (!record) {\n      const records = await this.eventLogChannel.read(1)\n      record = records.find(([name]) => name == eventName)\n    }\n    return record[1]\n  }\n\n  get nextBody(): Promise<Element> {\n    return (async () => {\n      let body\n      do body = await this.changedBody\n      while (!body)\n      return this.lastBody = body\n    })()\n  }\n\n  get changedBody(): Promise<Element | undefined> {\n    return (async () => {\n      const body = await this.body\n      if (!this.lastBody || this.lastBody.elementId != body.elementId) {\n        return body\n      }\n    })()\n  }\n\n  get visitAction(): Promise<string> {\n    return this.evaluate(() => {\n      try {\n        return window.Turbo.navigator.currentVisit.action\n      } catch (error) {\n        return \"load\"\n      }\n    })\n  }\n\n  drainEventLog() {\n    return this.eventLogChannel.drain()\n  }\n}\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\n\nexport class AsyncScriptTests extends TurboDriveTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/async_script.html\")\n  }\n\n  async \"test does not emit turbo:load when loaded asynchronously after DOMContentLoaded\"() {\n    const events = await this.eventLogChannel.read()\n    this.assert.deepEqual(events, [])\n  }\n\n  async \"test following a link when loaded asynchronously after DOMContentLoaded\"() {\n    this.clickSelector(\"#async-link\")\n    await this.nextBody\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n}\n\nAsyncScriptTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\n\nexport class FormSubmissionTests extends TurboDriveTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/form.html\")\n  }\n\n  async \"test standard form submission with redirect response\"() {\n    this.listenForFormSubmissions()\n    const button = await this.querySelector(\"#standard form.redirect input[type=submit]\")\n    await button.click()\n    await this.nextBody\n\n    this.assert.ok(this.turboFormSubmitted)\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n\n  async \"test standard form submission with empty created response\"() {\n    const htmlBefore = await this.outerHTMLForSelector(\"body\")\n    const button = await this.querySelector(\"#standard form.created input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const htmlAfter = await this.outerHTMLForSelector(\"body\")\n    this.assert.equal(htmlAfter, htmlBefore)\n  }\n\n  async \"test standard form submission with empty no-content response\"() {\n    const htmlBefore = await this.outerHTMLForSelector(\"body\")\n    const button = await this.querySelector(\"#standard form.no-content input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const htmlAfter = await this.outerHTMLForSelector(\"body\")\n    this.assert.equal(htmlAfter, htmlBefore)\n  }\n\n  async \"test invalid form submission with unprocessable entity status\"() {\n    await this.clickSelector(\"#reject form.unprocessable_entity input[type=submit]\")\n    await this.nextBody\n\n    const title = await this.querySelector(\"h1\")\n    this.assert.equal(await title.getVisibleText(), \"Unprocessable Entity\", \"renders the response HTML\")\n    this.assert.notOk(await this.hasSelector(\"#frame form.reject\"), \"replaces entire page\")\n  }\n\n  async \"test invalid form submission with server error status\"() {\n    await this.clickSelector(\"#reject form.internal_server_error input[type=submit]\")\n    await this.nextBody\n\n    const title = await this.querySelector(\"h1\")\n    this.assert.equal(await title.getVisibleText(), \"Internal Server Error\", \"renders the response HTML\")\n    this.assert.notOk(await this.hasSelector(\"#frame form.reject\"), \"replaces entire page\")\n  }\n\n  async \"test submitter form submission reads button attributes\"() {\n    const button = await this.querySelector(\"#submitter form button[type=submit]\")\n    await button.click()\n    await this.nextBody\n\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/two.html\")\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n\n  async \"test frame form submission with redirect response\"() {\n    const button = await this.querySelector(\"#frame form.redirect input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const message = await this.querySelector(\"#frame div.message\")\n    this.assert.notOk(await this.hasSelector(\"#frame form.redirect\"))\n    this.assert.equal(await message.getVisibleText(), \"Frame redirected\")\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/form.html\")\n  }\n\n  async \"test frame form submission with empty created response\"() {\n    const htmlBefore = await this.outerHTMLForSelector(\"#frame\")\n    const button = await this.querySelector(\"#frame form.created input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const htmlAfter = await this.outerHTMLForSelector(\"#frame\")\n    this.assert.equal(htmlAfter, htmlBefore)\n  }\n\n  async \"test frame form submission with empty no-content response\"() {\n    const htmlBefore = await this.outerHTMLForSelector(\"#frame\")\n    const button = await this.querySelector(\"#frame form.no-content input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const htmlAfter = await this.outerHTMLForSelector(\"#frame\")\n    this.assert.equal(htmlAfter, htmlBefore)\n  }\n\n  async \"test invalid frame form submission with unprocessable entity status\"() {\n    await this.clickSelector(\"#frame form.unprocessable_entity input[type=submit]\")\n    await this.nextBeat\n\n    const title = await this.querySelector(\"#frame h2\")\n    this.assert.ok(await this.hasSelector(\"#reject form\"), \"only replaces frame\")\n    this.assert.equal(await title.getVisibleText(), \"Frame: Unprocessable Entity\")\n  }\n\n  async \"test invalid frame form submission with internal server errror status\"() {\n    await this.clickSelector(\"#frame form.internal_server_error input[type=submit]\")\n    await this.nextBeat\n\n    const title = await this.querySelector(\"#frame h2\")\n    this.assert.ok(await this.hasSelector(\"#reject form\"), \"only replaces frame\")\n    this.assert.equal(await title.getVisibleText(), \"Frame: Internal Server Error\")\n  }\n\n  async \"test frame form submission with stream response\"() {\n    const button = await this.querySelector(\"#frame form.stream input[type=submit]\")\n    await button.click()\n    await this.nextBeat\n\n    const message = await this.querySelector(\"#frame div.message\")\n    this.assert.ok(await this.hasSelector(\"#frame form.redirect\"))\n    this.assert.equal(await message.getVisibleText(), \"Hello!\")\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/form.html\")\n  }\n\n  async \"test frame form submission with HTTP verb other than GET or POST\"() {\n    await this.clickSelector(\"#frame form.put.stream input[type=submit]\")\n    await this.nextBeat\n\n    const message = await this.querySelector(\"#frame div.message\")\n    this.assert.ok(await this.hasSelector(\"#frame form.redirect\"))\n    this.assert.equal(await message.getVisibleText(), \"1: Hello!\")\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/form.html\")\n  }\n\n  async \"test form submission with Turbo disabled on the form\"() {\n    this.listenForFormSubmissions()\n    await this.clickSelector('#disabled form[data-turbo=\"false\"] input[type=submit]')\n    await this.nextBody\n    await this.querySelector(\"#element-id\")\n\n    this.assert.notOk(await this.turboFormSubmitted)\n  }\n\n  async \"test form submission with Turbo disabled on the submitter\"() {\n    this.listenForFormSubmissions()\n    await this.clickSelector('#disabled form:not([data-turbo]) input[data-turbo=\"false\"]')\n    await this.nextBody\n    await this.querySelector(\"#element-id\")\n\n    this.assert.notOk(await this.turboFormSubmitted)\n  }\n\n  async \"test form submission skipped within method=dialog\"() {\n    this.listenForFormSubmissions()\n    await this.clickSelector('#dialog-method [type=\"submit\"]')\n    await this.nextBeat\n\n    this.assert.notOk(await this.turboFormSubmitted)\n  }\n\n  async \"test form submission skipped with submitter formmethod=dialog\"() {\n    this.listenForFormSubmissions()\n    await this.clickSelector('#dialog-formmethod [formmethod=\"dialog\"]')\n    await this.nextBeat\n\n    this.assert.notOk(await this.turboFormSubmitted)\n  }\n\n  listenForFormSubmissions() {\n    this.remote.execute(() => addEventListener(\"turbo:submit-start\", function eventListener(event) {\n      removeEventListener(\"turbo:submit-start\", eventListener, false)\n      document.head.insertAdjacentHTML(\"beforeend\", `<meta name=\"turbo-form-submitted\">`)\n    }, false))\n  }\n\n  get turboFormSubmitted(): Promise<boolean> {\n    return this.hasSelector(\"meta[name=turbo-form-submitted]\")\n  }\n}\n\nFormSubmissionTests.registerSuite()\n","import { FunctionalTestCase } from \"../helpers/functional_test_case\"\n\nexport class FrameTests extends FunctionalTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/frames.html\")\n  }\n\n  async \"test following a link to a page without a matching frame results in an empty frame\"() {\n    await this.clickSelector(\"#missing a\")\n    await this.nextBeat\n    this.assert.notOk(await this.innerHTMLForSelector(\"#missing\"))\n  }\n}\n\nFrameTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\n\nexport class LoadingTests extends TurboDriveTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/loading.html\")\n  }\n\n  async \"test eager loading within a details element\"() {\n    await this.nextBeat\n    this.assert.ok(await this.hasSelector(\"#loading-eager turbo-frame#frame h2\"))\n  }\n\n  async \"test lazy loading within a details element\"() {\n    await this.nextBeat\n\n    const frameContents = \"#loading-lazy turbo-frame h2\"\n    this.assert.notOk(await this.hasSelector(frameContents))\n\n    await this.clickSelector(\"#loading-lazy summary\")\n    await this.nextBeat\n\n    const contents = await this.querySelector(frameContents)\n    this.assert.equal(await contents.getVisibleText(), \"Hello from a frame\")\n  }\n\n  async \"test changing loading attribute from lazy to eager loads frame\"() {\n    const frameContents = \"#loading-lazy turbo-frame h2\"\n    await this.nextBeat\n\n    this.assert.notOk(await this.hasSelector(frameContents))\n\n    await this.remote.execute(() => document.querySelector(\"#loading-lazy turbo-frame\")?.setAttribute(\"loading\", \"eager\"))\n    await this.nextBeat\n\n    const contents = await this.querySelector(frameContents)\n    await this.clickSelector(\"#loading-lazy summary\")\n    this.assert.equal(await contents.getVisibleText(), \"Hello from a frame\")\n  }\n\n  async \"test changing src attribute on a frame with loading=lazy defers navigation\"() {\n    const frameContents = \"#loading-lazy turbo-frame h2\"\n    await this.nextBeat\n\n    await this.remote.execute(() => document.querySelector(\"#loading-lazy turbo-frame\")?.setAttribute(\"src\", \"/src/tests/fixtures/frames.html\"))\n    this.assert.notOk(await this.hasSelector(frameContents))\n\n    await this.clickSelector(\"#loading-lazy summary\")\n    await this.nextBeat\n\n    const contents = await this.querySelector(frameContents)\n    this.assert.equal(await contents.getVisibleText(), \"Frames: #hello\")\n  }\n\n  async \"test changing src attribute on a frame with loading=eager navigates\"() {\n    const frameContents = \"#loading-eager turbo-frame h2\"\n    await this.remote.execute(() => document.querySelector(\"#loading-eager turbo-frame\")?.setAttribute(\"src\", \"/src/tests/fixtures/frames.html\"))\n    await this.nextBeat\n    await this.clickSelector(\"#loading-eager summary\")\n\n    const contents = await this.querySelector(frameContents)\n    this.assert.equal(await contents.getVisibleText(), \"Frames: #frame\")\n  }\n}\n\nLoadingTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\n\nexport class NavigationTests extends TurboDriveTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/navigation.html\")\n  }\n\n  async \"test after loading the page\"() {\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/navigation.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin unannotated link\"() {\n    this.clickSelector(\"#same-origin-unannotated-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n\n  async \"test following a same-origin data-turbo-action=replace link\"() {\n    this.clickSelector(\"#same-origin-replace-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"replace\")\n  }\n\n  async \"test following a same-origin data-turbo=false link\"() {\n    this.clickSelector(\"#same-origin-false-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin unannotated link inside a data-turbo=false container\"() {\n    this.clickSelector(\"#same-origin-unannotated-link-inside-false-container\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin data-turbo=true link inside a data-turbo=false container\"() {\n    this.clickSelector(\"#same-origin-true-link-inside-false-container\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n\n  async \"test following a same-origin anchored link\"() {\n    this.clickSelector(\"#same-origin-anchored-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.hash, \"#element-id\")\n    this.assert.equal(await this.visitAction, \"advance\")\n    this.assert(await this.isScrolledToSelector(\"#element-id\"))\n  }\n\n  async \"test following a same-origin link to a named anchor\"() {\n    this.clickSelector(\"#same-origin-anchored-link-named\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.hash, \"#named-anchor\")\n    this.assert.equal(await this.visitAction, \"advance\")\n    this.assert(await this.isScrolledToSelector(\"[name=named-anchor]\"))\n  }\n\n  async \"test following a cross-origin unannotated link\"() {\n    this.clickSelector(\"#cross-origin-unannotated-link\")\n    await this.nextBody\n    this.assert.equal(await this.location, \"about:blank\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin [target] link\"() {\n    this.clickSelector(\"#same-origin-targeted-link\")\n    await this.nextBeat\n    this.remote.switchToWindow(await this.nextWindowHandle)\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin [download] link\"() {\n    this.clickSelector(\"#same-origin-download-link\")\n    await this.nextBeat\n    this.assert(!await this.changedBody)\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/navigation.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test following a same-origin link inside an SVG element\"() {\n    this.clickSelector(\"#same-origin-link-inside-svg-element\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"advance\")\n  }\n\n  async \"test following a cross-origin link inside an SVG element\"() {\n    this.clickSelector(\"#cross-origin-link-inside-svg-element\")\n    await this.nextBody\n    this.assert.equal(await this.location, \"about:blank\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test clicking the back button\"() {\n    this.clickSelector(\"#same-origin-unannotated-link\")\n    await this.nextBody\n    await this.goBack()\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/navigation.html\")\n    this.assert.equal(await this.visitAction, \"restore\")\n  }\n\n  async \"test clicking the forward button\"() {\n    this.clickSelector(\"#same-origin-unannotated-link\")\n    await this.nextBody\n    await this.goBack()\n    await this.goForward()\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/one.html\")\n    this.assert.equal(await this.visitAction, \"restore\")\n  }\n}\n\nNavigationTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\nimport { Element } from \"@theintern/leadfoot\"\n\nexport class RenderingTests extends TurboDriveTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/rendering.html\")\n  }\n\n  async \"test triggers before-render and render events\"() {\n    this.clickSelector(\"#same-origin-link\")\n    const { newBody } = await this.nextEventNamed(\"turbo:before-render\")\n\n    const h1 = await this.querySelector(\"h1\")\n    this.assert.equal(await h1.getVisibleText(), \"One\")\n\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert(await newBody.equals(await this.body))\n  }\n\n  async \"test triggers before-render and render events for error pages\"() {\n    this.clickSelector(\"#nonexistent-link\")\n    const { newBody } = await this.nextEventNamed(\"turbo:before-render\")\n\n    this.assert.equal(await newBody.getVisibleText(), \"404 Not Found: /nonexistent\")\n\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert(await newBody.equals(await this.body))\n  }\n\n  async \"test reloads when tracked elements change\"() {\n    this.clickSelector(\"#tracked-asset-change-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/tracked_asset_change.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test reloads when turbo-visit-control setting is reload\"() {\n    this.clickSelector(\"#visit-control-reload-link\")\n    await this.nextBody\n    this.assert.equal(await this.pathname, \"/src/tests/fixtures/visit_control_reload.html\")\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test accumulates asset elements in head\"() {\n    const originalElements = await this.assetElements\n\n    this.clickSelector(\"#additional-assets-link\")\n    await this.nextBody\n    const newElements = await this.assetElements\n    this.assert.notDeepEqual(newElements, originalElements)\n\n    this.goBack()\n    await this.nextBody\n    const finalElements = await this.assetElements\n    this.assert.deepEqual(finalElements, newElements)\n  }\n\n  async \"test replaces provisional elements in head\"() {\n    const originalElements = await this.provisionalElements\n    this.assert(!await this.hasSelector(\"meta[name=test]\"))\n\n    this.clickSelector(\"#same-origin-link\")\n    await this.nextBody\n    const newElements = await this.provisionalElements\n    this.assert.notDeepEqual(newElements, originalElements)\n    this.assert(await this.hasSelector(\"meta[name=test]\"))\n\n    this.goBack()\n    await this.nextBody\n    const finalElements = await this.provisionalElements\n    this.assert.notDeepEqual(finalElements, newElements)\n    this.assert(!await this.hasSelector(\"meta[name=test]\"))\n  }\n\n  async \"skip evaluates head script elements once\"() {\n    this.assert.equal(await this.headScriptEvaluationCount, undefined)\n\n    this.clickSelector(\"#head-script-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.headScriptEvaluationCount, 1)\n\n    this.goBack()\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.headScriptEvaluationCount, 1)\n\n    this.clickSelector(\"#head-script-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.headScriptEvaluationCount, 1)\n  }\n\n  async \"test evaluates body script elements on each render\"() {\n    this.assert.equal(await this.bodyScriptEvaluationCount, undefined)\n\n    this.clickSelector(\"#body-script-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.bodyScriptEvaluationCount, 1)\n\n    this.goBack()\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.bodyScriptEvaluationCount, 1)\n\n    this.clickSelector(\"#body-script-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.bodyScriptEvaluationCount, 2)\n  }\n\n  async \"test does not evaluate data-turbo-eval=false scripts\"() {\n    this.clickSelector(\"#eval-false-script-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert.equal(await this.bodyScriptEvaluationCount, undefined)\n  }\n\n  async \"test preserves permanent elements\"() {\n    let permanentElement = await this.permanentElement\n    this.assert.equal(await permanentElement.getVisibleText(), \"Rendering\")\n\n    this.clickSelector(\"#permanent-element-link\")\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert(await permanentElement.equals(await this.permanentElement))\n    this.assert.equal(await permanentElement.getVisibleText(), \"Rendering\")\n\n    this.goBack()\n    await this.nextEventNamed(\"turbo:render\")\n    this.assert(await permanentElement.equals(await this.permanentElement))\n  }\n\n  async \"test before-cache event\"() {\n    this.beforeCache(body => body.innerHTML = \"Modified\")\n    this.clickSelector(\"#same-origin-link\")\n    await this.nextBody\n    await this.goBack()\n    const body = await this.nextBody\n    this.assert(await body.getVisibleText(), \"Modified\")\n  }\n\n  async \"test mutation record as before-cache notification\"() {\n    this.modifyBodyAfterRemoval()\n    this.clickSelector(\"#same-origin-link\")\n    await this.nextBody\n    await this.goBack()\n    const body = await this.nextBody\n    this.assert(await body.getVisibleText(), \"Modified\")\n  }\n\n  async \"test error pages\"() {\n    this.clickSelector(\"#nonexistent-link\")\n    const body = await this.nextBody\n    this.assert.equal(await body.getVisibleText(), \"404 Not Found: /nonexistent\")\n    await this.goBack()\n  }\n\n  get assetElements(): Promise<Element[]> {\n    return filter(this.headElements, isAssetElement)\n  }\n\n  get provisionalElements(): Promise<Element[]> {\n    return filter(this.headElements, async element => !await isAssetElement(element))\n  }\n\n  get headElements(): Promise<Element[]> {\n    return this.evaluate(() => Array.from(document.head.children) as any[])\n  }\n\n  get permanentElement(): Promise<Element> {\n    return this.querySelector(\"#permanent\")\n  }\n\n  get headScriptEvaluationCount(): Promise<number | undefined> {\n    return this.evaluate(() => window.headScriptEvaluationCount)\n  }\n\n  get bodyScriptEvaluationCount(): Promise<number | undefined> {\n    return this.evaluate(() => window.bodyScriptEvaluationCount)\n  }\n\n  async modifyBodyBeforeCaching() {\n    return this.remote.execute(() => addEventListener(\"turbo:before-cache\", function eventListener(event) {\n      removeEventListener(\"turbo:before-cache\", eventListener, false)\n      document.body.innerHTML = \"Modified\"\n    }, false))\n  }\n\n  async beforeCache(callback: (body: HTMLElement) => void) {\n    return this.remote.execute((callback: (body: HTMLElement) => void) => {\n      addEventListener(\"turbo:before-cache\", function eventListener(event) {\n        removeEventListener(\"turbo:before-cache\", eventListener, false)\n        callback(document.body)\n      }, false)\n    }, [callback])\n  }\n\n  async modifyBodyAfterRemoval() {\n    return this.remote.execute(() => {\n      const { documentElement, body } = document\n      const observer = new MutationObserver(records => {\n        for (const record of records) {\n          if (Array.from(record.removedNodes).indexOf(body) > -1) {\n            body.innerHTML = \"Modified\"\n            observer.disconnect()\n            break\n          }\n        }\n      })\n      observer.observe(documentElement, { childList: true })\n    })\n  }\n}\n\nasync function filter<T>(promisedValues: Promise<T[]>, predicate: (value: T) => Promise<boolean>): Promise<T[]> {\n  const values = await promisedValues\n  const matches = await Promise.all(values.map(value => predicate(value)))\n  return matches.reduce((result, match, index) => result.concat(match ? values[index] : []), [] as T[])\n}\n\nasync function isAssetElement(element: Element): Promise<boolean> {\n  const tagName = await element.getTagName()\n  const relValue = await element.getAttribute(\"rel\")\n  return tagName == \"script\" || tagName == \"style\" || (tagName == \"link\" && relValue == \"stylesheet\")\n}\n\ndeclare global {\n  interface Window {\n    headScriptEvaluationCount?: number\n    bodyScriptEvaluationCount?: number\n  }\n}\n\nRenderingTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\n\nexport class ScrollRestorationTests extends TurboDriveTestCase {\n  async \"test landing on an anchor\"() {\n    await this.goToLocation(\"/src/tests/fixtures/scroll_restoration.html#three\")\n    const { y: yAfterLoading } = await this.scrollPosition\n    this.assert.notEqual(yAfterLoading, 0)\n  }\n\n  async \"test reloading after scrolling\"() {\n    await this.goToLocation(\"/src/tests/fixtures/scroll_restoration.html\")\n    await this.scrollToSelector(\"#three\")\n    const { y: yAfterScrolling } = await this.scrollPosition\n    this.assert.notEqual(yAfterScrolling, 0)\n\n    await this.reload()\n    const { y: yAfterReloading } = await this.scrollPosition\n    this.assert.notEqual(yAfterReloading, 0)\n  }\n\n  async \"test returning from history\"() {\n    await this.goToLocation(\"/src/tests/fixtures/scroll_restoration.html\")\n    await this.scrollToSelector(\"#three\")\n    await this.goToLocation(\"/src/tests/fixtures/bare.html\")\n    await this.goBack()\n\n    const { y: yAfterReturning } = await this.scrollPosition\n    this.assert.notEqual(yAfterReturning, 0)\n  }\n}\n\nScrollRestorationTests.registerSuite()\n","import { FunctionalTestCase } from \"../helpers/functional_test_case\"\n\nexport class StreamTests extends FunctionalTestCase {\n  async setup() {\n    await this.goToLocation(\"/src/tests/fixtures/stream.html\")\n  }\n\n  async \"test receiving a stream message\"() {\n    let element\n    const selector = \"#messages div.message:last-child\"\n\n    element = await this.querySelector(selector)\n    this.assert.equal(await element.getVisibleText(), \"First\")\n\n    await this.createMessage(\"Hello world!\")\n    await this.nextBeat\n\n    element = await this.querySelector(selector)\n    this.assert.equal(await element.getVisibleText(), \"Hello world!\")\n  }\n\n  async createMessage(content: string) {\n    return this.post(\"/__turbo/messages\", { content })\n  }\n\n  async post(path: string, params: any = {}) {\n    await this.evaluate((path, method, params) => {\n      fetch(location.origin + path, { method, body: new URLSearchParams(params) })\n    }, path, \"POST\", params)\n  }\n}\n\nStreamTests.registerSuite()\n","import { TurboDriveTestCase } from \"../helpers/turbo_drive_test_case\"\nimport { get } from \"http\"\n\ndeclare const Turbo: any\n\nexport class VisitTests extends TurboDriveTestCase {\n  async setup() {\n    this.goToLocation(\"/src/tests/fixtures/visit.html\")\n  }\n\n  async \"test programmatically visiting a same-origin location\"() {\n    const urlBeforeVisit = await this.location\n    await this.visitLocation(\"/src/tests/fixtures/one.html\")\n\n    const urlAfterVisit = await this.location\n    this.assert.notEqual(urlBeforeVisit, urlAfterVisit)\n    this.assert.equal(await this.visitAction, \"advance\")\n\n    const { url: urlFromBeforeVisitEvent } = await this.nextEventNamed(\"turbo:before-visit\")\n    this.assert.equal(urlFromBeforeVisitEvent, urlAfterVisit)\n\n    const { url: urlFromVisitEvent } = await this.nextEventNamed(\"turbo:visit\")\n    this.assert.equal(urlFromVisitEvent, urlAfterVisit)\n\n    const { timing } = await this.nextEventNamed(\"turbo:load\")\n    this.assert.ok(timing)\n  }\n\n  async \"skip programmatically visiting a cross-origin location falls back to window.location\"() {\n    const urlBeforeVisit = await this.location\n    await this.visitLocation(\"about:blank\")\n\n    const urlAfterVisit = await this.location\n    this.assert.notEqual(urlBeforeVisit, urlAfterVisit)\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test visiting a location served with a non-HTML content type\"() {\n    const urlBeforeVisit = await this.location\n    await this.visitLocation(\"/src/tests/fixtures/svg\")\n\n    const url = await this.remote.getCurrentUrl()\n    const contentType = await contentTypeOfURL(url)\n    this.assert.equal(contentType, \"image/svg+xml\")\n\n    const urlAfterVisit = await this.location\n    this.assert.notEqual(urlBeforeVisit, urlAfterVisit)\n    this.assert.equal(await this.visitAction, \"load\")\n  }\n\n  async \"test canceling a before-visit event prevents navigation\"() {\n    this.cancelNextVisit()\n    const urlBeforeVisit = await this.location\n\n    this.clickSelector(\"#same-origin-link\")\n    await this.nextBeat\n    this.assert(!await this.changedBody)\n\n    const urlAfterVisit = await this.location\n    this.assert.equal(urlAfterVisit, urlBeforeVisit)\n  }\n\n  async \"test navigation by history is not cancelable\"() {\n    this.clickSelector(\"#same-origin-link\")\n    await this.drainEventLog()\n    await this.nextBeat\n\n    await this.goBack()\n    this.assert(await this.changedBody)\n  }\n\n  async visitLocation(location: string) {\n    this.remote.execute((location: string) => window.Turbo.visit(location), [location])\n  }\n\n  async cancelNextVisit() {\n    this.remote.execute(() => addEventListener(\"turbo:before-visit\", function eventListener(event) {\n      removeEventListener(\"turbo:before-visit\", eventListener, false)\n      event.preventDefault()\n    }, false))\n  }\n}\n\nfunction contentTypeOfURL(url: string): Promise<string | undefined> {\n  return new Promise(resolve => {\n    get(url, ({ headers }) => resolve(headers[\"content-type\"]))\n  })\n}\n\nVisitTests.registerSuite()\n"],"names":["intern","get"],"mappings":"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"}