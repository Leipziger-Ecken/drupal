{% set node_type = node.type[0].target_id %}
{% set image = content.field_main_image[0] %}
<article>
  {% if image %}
  <figure class="relative mx-auto w-full lg:max-w-md mb-8">
    <a href="{{ url }}" class="relative block w-full rounded-lg shadow-lg bg-white overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
      <span class="sr-only">{{ '' }}</span>
      {{ include('@leipzigerEckenWebbuilder/partials/components/media_image.html.twig', {
        class: 'w-full h-48 sm:h-64 object-cover',
        image: image,
        width: 610,
        image_style: 'webbuilder_teaser',
      }) }}
    </a>
    {# Unsplash images always require attribution #}
    {% if image['#media'].field_attribution %}
    <figcaption class="mt-4 prose">
      {# TODO: find a way to correctly render attribution field #}
      {{ image['#media'].field_attribution[0].value|raw }}
    </figcaption>
    {% endif %}
  </figure>
  {% endif %}
  <div>
    {{ include('@leipzigerEckenWebbuilder/partials/components/badge.html.twig', {
      type: 'primary',
      label: node_type == 'le_event' ? content.field_le_event_occurrences : content.published_at,
    }) }}
  </div>
  <a href="{{ url }}" class="block mt-4">
    <h2 class="text-xl font-semibold text-gray-900">
      {{ label }}
    </h2>
    <div class="mt-3 text-base text-gray-500 prose">
      {% if node_type == 'le_event' %}
      {{ content.field_le_event_beschreibung }}
      {% else %}

      {% endif %}
    </div>
  </a>
  <div class="mt-6">
    <a href="{{ url }}" class="text-sm text-gray-500 hover:underline">
      Mehr erfahren&thinsp;â€¦
    </a>
  </div>
</article>
